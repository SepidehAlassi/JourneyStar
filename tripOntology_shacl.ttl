@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix currencyA: <https://spec.edmcouncil.org/fibo/ontology/FND/Accounting/CurrencyAmount/> .
@prefix currency: <https://spec.edmcouncil.org/fibo/ontology/FND/Accounting/ISO4217-CurrencyCodes/>.
@prefix schema: <https://schema.org/> .
@prefix : <http://www.mysemantics.com/ontology/trip/> .
@prefix dbr: <http://dbpedia.org/resource/> .
@prefix dbo: <http://dbpedia.org/ontology/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@base <http://www.mysemantics.com/> .

### PersonShape ###
################################

:PersonShape a sh:NodeShape  ;
    sh:targetClass :Person ;
    sh:property [
        sh:path schema:name ;
        sh:minCount 1 ;
        sh:datatype xsd:string ;
    ],
    [
        sh:path schema:givenName ;
        #sh:minCount 1 ;
        sh:datatype xsd:string ;
    ] ,
    [
        sh:path schema:familyName ;
       # sh:minCount 1 ;
        sh:datatype xsd:string ;
    ] ,
    [
        sh:path schema:gender ;
        #sh:minCount 1;
        sh:or ([sh:datatype xsd:string]
                [sh:in ( schema:Female schema:Male )]);
    ] ,
    [
        sh:path schema:birthDate ;
        sh:maxCount 1 ; 
        sh:datatype xsd:date ;
    ]
    ,
    [
        sh:path schema:birthPlace ;
        sh:maxCount 1;
        sh:node :LocationShape ;
    ],
    [
        sh:path schema:knows ; # the object of schema:knows should be a resource of type :Location or :Person
        sh:or ([sh:class :Location ]
               [sh:class :Person ]) ;
    ],
    [
        sh:path :hasJourney ;
        sh:node :JourneyShape ;
    ],
     [
        sh:path :participatedIn ;
        sh:or ([sh:class :Activity ;] 
                [sh:class :Travel;]);
     ] , 
    [
        sh:path :hasDescription;
        sh:node :TextContentShape ;
    ], 
    [
        sh:path :hasGnd;
        sh:datatype xsd:string ;
    ],
    [
        sh:path :hasWikiLink;
        sh:datatype xsd:anyUri;
    ] .

### Shape for Class Location ###
################################

:LocationShape a sh:NodeShape  ;
    sh:targetClass :Location ;
    sh:property
    [
    sh:path :hasGeonameID ;
       sh:maxCount 1 ;
       # sh:minCount 1 ;
       sh:datatype xsd:string;
    ] ,
    [
        sh:path schema:name ;
        sh:minCount 1 ;
        #sh:languageIn ("en" "de" "fr" "es");
        sh:datatype xsd:string ;
    ] ,
    [
        sh:path :hasWikiLink ;
       # sh:minCount 1 ;
        sh:datatype xsd:anyURI ;
    ] ,
	  [
        sh:path :hasAlternativeName ;
        sh:datatype xsd:string ;
    ],
    [
        sh:path schema:adress;
        sh:datatype xsd:string;
    ] 
    ,
    [
        sh:path :hasDescription;
        sh:node :TextContentShape;
    ] .


### trip #### travel? ###
:TripShape a sh:NodeShape  ;
    sh:targetClass :Trip ;
    sh:property
    [
        sh:path :hasDestination ;
        #sh:maxCount 1 ;
        sh:node :LocationShape;
    ] ,
      [
        sh:path :hasStartLocation;
        sh:node :LocationShape;
    ],
    [
        sh:path :hasStartDate ;
        #sh:minCount 1 ;
        # sh:or ( [sh:datatype xsd:dateTime ]
        #         [sh:datatype xsd:date ] 
        #         [sh:datatype xsd:time ]);  
        sh:node :hasStartDatePropertyShape; ###
    ],
    [
        sh:path :hasEndDate ;
        #sh:minCount 1 ;
        # sh:or ( [sh:datatype xsd:dateTime ]
        #         [sh:datatype xsd:date ] 
        #         [sh:datatype xsd:time ]); 
        sh:path :hasEndDatePropertyShape;
    ],
    [
        sh:path :hasTransport;
        sh:class :ModeOfTransport;
     ],
	[
        sh:path :hasDescription ;
        sh:node :TextContentShape ;
    ], 
    [
        sh:path :hasActivity;
        sh:node :ActivityShape;
    ],
    [
        sh:path :hasTransit;
        sh:node :LocationShape;
    ].


### Journey ####
:JourneyShape a sh:NodeShape  ;
    sh:targetClass :Journey;
    sh:property
    [
        sh:path :hasDestination ;
        #sh:minCount 1 ;
        # sh:severity sh:Warning;
        # sh:message "At least one destination must be provided"@en;
        sh:node :LocationShape;
    ] ,
      [
        sh:path :hasStartLocation;
        sh:node :LocationShape;
    ],
    [
        sh:path :hasStartDate ;
        #sh:minCount 1 ;
        sh:datatype xsd:date ; 
    ],
    [
        sh:path :hasEndDate ;
        #sh:minCount 1 ;
        sh:datatype xsd:date; 
    ],
    [
        sh:path :hasTransport;
        sh:class :ModeOfTransport;
     ],
	[
        sh:path :hasDescription ;
        sh:node :TextContentShape ; #or hasTextPropertyShape
    ],
    [
        sh:path :hasStay ;
        sh:node :StayShape;
    ],
    [
        sh:path :hasStage;
        sh:class :JourneyShape; 
    ],
    [
        sh:path :hasIntermediateDestination;
        sh:node :Locationshape;
    ], 
    [
        sh:path :hasActivity;
        sh:node :ActivityShape;
    ],
    [
        sh:path :hasTransit;
        sh:node :LocationShape;
    ].

##### Excursion #######
:ExcursionShape a sh:NodeShape  ;
    sh:targetClass :Excursion ;
    sh:property
    [
        sh:path :hasDestination ;
        sh:node :LocationShape;
        sh:severity sh:Info;
        sh:message "An excursion is specified by returning back to the location of departure after visiting a different location"@en;
    ], 
    [
        sh:path :hasDeparture ;
        sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]) ; 
    ],
    [
        sh:path :hasTransport; 
        sh:class :ModeOfTransport;
     ],
	[
        sh:path :hasDescription ;
        sh:node :TextContentShape ; 
    ], 
    [
        sh:path :hasActivity;
        sh:node :ActivityShape;
    ],
    [
        sh:path :hasTransit;
        sh:node :LocationShape;
    ].


### Shape for Class Stay ###
################################
:StayShape a sh:NodeShape  ;
    sh:targetClass :Stay ;
    sh:property 
    [
        sh:path :hasArrival ;
        #sh:minCount 1 ;
        sh:datatype xsd:dateTime ; 
    ] ,
    [
        sh:path :hasDeparture ;
       # sh:minCount 1 ;
        sh:datatype xsd:dateTime ;
    ] ,
	[
        sh:path :hasAccommodation ;
        sh:datatype :AccommodationShape ;
    ],
    [
        sh:path :hasActivity;
        sh:node :ActivityShape;
    ],
    [
        sh:path :hasExcursion;
        sh:node :ExcursionShape;
    ],
	[ 
        sh:path :hasDescription;
        sh:node :TextContentShape;
    ].

####### Accommodation ########
:AccommodationShape a sh:NodeShape;
    sh:targetClass :Accommodation;
    sh:property
    [
        sh:path :hasOwner;
        sh:class :Person; # Or Business Entity
    ],
    [
        sh:path schema:name;
        sh:datatype xsd:string;
    ],
    [
        sh:path schema:adress;
        sh:datatype xsd:string;
    ],
    [
        sh:path :hasDescription;
        sh:node :TextContentShape;
    ] .

####### Activity ########
:ActivityShape a sh:NodeShape;
    sh:targetClass :Activity;
    sh:property
    [
        sh:path :hasParticipant;
        sh:class :PersonShape;
    ],
    [
        sh:path schema:name;
        sh:minCount 1;
        sh:datatype xsd:string;
    ],
    [
        sh:path :start ;
        sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]);
    ], 
    [
        sh:path :end ;
        sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]);
    ], 
    [
        sh:path sh:hasDescription;
        sh:node sh:TextContentShape;
    ] .

####### SightSeeing ########
:SightSeeingShape a sh:NodeShape;
    sh:targetClass :SightSeeing;
    sh:property
    [
        sh:path :sightingOf;
        sh:or (
            [sh:datatype xsd:anyURI]
            [sh:datatype xsd:string]
        );
    ].

####### Dining ########
:DiningShape a sh:NodeShape;
    sh:targetClass :Dining;
    sh:property
    [
        sh:path :mealType;
        sh:datatype xsd:string;
    ],
    [
        sh:path :cuisine ;
        sh:datatype xsd:string;
    ].

####### Entertainment ########
:EntertainmentShape a sh:NodeShape;
    sh:targetClass :Entertainment;
    sh:property
    [
        sh:path :entertainmentType ;
        sh:datatype xsd:string;
    ],
    [
        sh:path :cuisine ;
        sh:datatype xsd:string;
    ].


####### mode of transport ########
:ModeOfTransportShape a sh:NodeShape;
    sh:targetClass :ModeOfTransport;
    sh:property
    [   sh:path :hasDescription;
        sh:node :TextContentShape;
    ] .


#### DOCUMENTS ####
### Document ###
:DocumentShape a sh:NodeShape  ;
    sh:targetClass :Document ;
    sh:property
    [
        sh:path :hasTextContent ;
        sh:node :TextContentShape;
    ], 
    [
        sh:path :hasDate ;
        sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ]
                [sh:datatype xsd:gYear ]) ; 
    ],
	[
        sh:path :hasDescription ;
        sh:node :TextContentShape ; #sh:class TextContent
    ].


### Text Content ###
:TextContentShape a sh:NodeShape;
    sh:targetClass :TextContent;
    sh:property
    [
        sh:path :hasText;
        sh:datatype xsd:string;
    ].


##############################################################
##############################################################

:accordingToPropertyShape
    	a sh:PropertyShape ;
    	sh:path :accordingTo ;
    	sh:description "Represents the person who is source of a fact." ;
    	sh:node :PersonShape .


:mentionedInPropertyShape
    	a sh:PropertyShape ;
    	sh:path :mentionedIn ;
    	sh:description "Represents the document that is source of a fact." ;
    	sh:node :DocumentShape . # define the DocumenShape


#############
###  hasStartLocation ###
:hasStartLocationPropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasStartLocation ;
    	sh:description "Represents the start location of a trip." ;
    	sh:node :LocationShape .

###  hasDestination ###
:hasDestinationPropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasDestination ;
    	sh:description "Represents the destination of a trip." ;
    	sh:node :LocationShape . 

# hasArrival
:hasArrivalPropertyShape 
    a sh:PropertyShape ;
    sh:path :hasArrivalDateTime;
    sh:description "Represents the moment of arrival.";
    sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]) .

# hasDeparture
:hasDeparturePropertyShape 
    a sh:PropertyShape ;
    sh:path :hasDepartureDateTime;
    sh:description "Represents a moment of departure.";
    sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]) .
###  hasStart ###
:hasStartDatePropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasStartDate ;
    	sh:description "Represents the start of an event" ;
    	sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]) . 

###  hasEnd ###
:hasEndDatePropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasEnd ;
    	sh:description "Represents the temporal end of an event." ;
    	sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:time ]) .

# ###  :start ###
# :startDatePropertyShape
#     	a sh:PropertyShape ;
#     	sh:path :startDate ;
#     	sh:description "Represents the start of an activity" ;
#     	sh:or ( [sh:datatype xsd:dateTime ]
#                 [sh:datatype xsd:date ] 
#                 [sh:datatype xsd:time ]) . 

# ###  hasEnd ###
# :startPropertyShape
#     	a sh:PropertyShape ;
#     	sh:path :end ;
#     	sh:description "Represents the temporal end of an activity." ;
#     	sh:or ( [sh:datatype xsd:dateTime ]
#                 [sh:datatype xsd:date ] 
#                 [sh:datatype xsd:time ]) .

###  Date ###
:hasDatePropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasTime ;
    	sh:description "Represents a time." ;
    	sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:date ] 
                [sh:datatype xsd:gYear ]) . 

###  time ###
:hasTimePropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasTime ;
    	sh:description "Represents a time." ;
    	sh:or ( [sh:datatype xsd:dateTime ]
                [sh:datatype xsd:time ]) . 

#### or just :time :date

### has subjourneyto ###
:hasIntermediateDestinationPropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasIntermediateDestination ;
    	sh:description "Represents a subjourney to a location." ;
    	sh:node :LocationShape . 

### has subjourney ###
:hasStagePropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasStage ;
    	sh:description "Represents a subjourney." ;
    	sh:node :JourneyShape . 

### has Transport ###
:hasTransportPropertyShape
    	a sh:PropertyShape ;
    	sh:path :hasTransport ;
    	sh:description "Represents the mode of transport." ;
        sh:class :ModeOfTransport. 

### has stay ###
:hasStayPropertyShape
    a sh:PropertyShape;
    sh:path :hasStay;
    sh:description "Represents a stay on a journey.";
    sh:node :StayShape . #sh:class :Stay

### has activity ###
:hasActivityPropertyShape
    a sh:PropertyShape;
    sh:path :hasActivity;
    sh:description "Represents activity during a stay.";
    sh:node :ActivityShape . #sh:class :Activity

### has occurence ###
:hasOccurrencePropertyShape
    a sh:PropertyShape;
    sh:path :hasOccurrence;
    sh:description "Represents an occurence as metadata of a journey.";
    sh:node :TextContentShape . 

### has transit ###
:hasTransitPropertyShape
    a sh:ProperyShape;
    sh:path :hasTransit;
    sh:description "Represents a transit location during journey.";
    sh:node :LocationShape .

### hasCost ###
:hasCostPropertyShape
    a sh:PropertyShape;
    sh:path :hasCost;
    sh:description "Represents the monetary cost of something.";
    # sh:node currency:hasPrice;
    sh:datatype xsd:string.

### currency ###
:hasCurrencyPropertyShape
    a sh:PropertyShape;
    sh:path :hasCurrency;
    sh:description "Represents the currency of money.";
    #sh:class currency:currency . ## ASK 
    sh:datatype xsd:string.


### hasDescription ### or here sh:node
:hasDescriptionPropertyShape
    a sh:PropertyShape;
    sh:path :hasDescription;
    sh:description "Represents a description.";
    sh:node :TextContentShape .
    #sh:datatype xsd:string.


#### excursion? ##
:hasTextPropertyShape
     a sh:PropertyShape ;
    sh:path :hasText;
    sh:description "Represents the text of a text content shape";
    sh:datatype xsd:string.


### nr ###
:nrPropertyShape
    a sh:PropertyShape;
    sh:path :nr;
    sh:description "Represents the number of something.";
    sh:datatype xsd:string.

# ###########
# #time sh:path schema:knows ; # the object of schema:knows should be a resource of type :Location or :Person
#         sh:or ([sh:datatype xsd:dateTime ]
#                [sh:datatype xsd:date ]
                #[sh:datatype xsd:time ]) ;



